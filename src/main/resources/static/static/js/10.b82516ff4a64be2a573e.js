webpackJsonp([10],{HuEP:function(e,t){},TT1V:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l={data:()=>({url:"./static/vuetable.json",tableData:[],one:{},selected:"",sectors:[{id:1,name:"java",type:0},{id:2,name:"php",type:0}]}),mounted(){this.getSectors()},methods:{getSectors(){var e=this;e.$axios({method:"get",url:"/sector/listAllSectors"}).then(t=>{console.log(t.data),e.sectors=new Array,e.sectors=e.sectors.concat(t.data)}).catch(t=>{console.warn("catch :"),console.log(t),e.$message.error("错误")})},selectSector(){var e=this;console.log(e.selected),e.$axios({method:"get",url:"/forum/showStickyPostBySectorId/"+e.selected}).then(t=>{console.log(t.data),e.tableData=new Array,e.tableData=e.tableData.concat(t.data.payload)}).catch(t=>{console.warn("catch :"),console.log(t),e.$message.error("错误")})},handleTop(e,t){this.notop(t)},notop(e){var t=this;t.$axios({method:"get",url:"/forum/removeStickyPost/"+e.id}).then(a=>{const l=t.tableData.indexOf(e);t.tableData.splice(l,1),this.$message.success("取消置顶成功")}).catch(e=>{console.warn("catch :"),console.log(e),t.$message.error("错误")})}}},s={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"table"},[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-tickets"}),e._v(" 置顶管理")])],1)],1),e._v(" "),a("div",{staticClass:"container"},[a("div",{staticClass:"handle-box"},[a("el-select",{staticClass:"handle-select mr10",attrs:{placeholder:"选择板块"},on:{change:function(t){e.selectSector()}},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}},e._l(e.sectors,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""}},[a("el-table-column",{attrs:{prop:"username",label:"作者",sortable:"",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{prop:"title",label:"标题",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"content",label:"内容"}}),e._v(" "),a("el-table-column",{attrs:{prop:"time",label:"时间"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(a){e.handleTop(t.$index,t.row)}}},[e._v("\n                        取消置顶\n                    ")])]}}])})],1)],1)])},staticRenderFns:[]};var o=a("vSla")(l,s,!1,function(e){a("HuEP")},"data-v-17df945a",null);t.default=o.exports}});